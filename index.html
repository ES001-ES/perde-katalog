<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pərdə Mağazası - Filtrlər menyusu</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    :root {
      --primary: #6c5ce7;
      --secondary: #a29bfe;
      --bg: #f1f2f6;
      --text: #2d3436;
      --card: #ffffff;
      --whatsapp: #25d366;
    }
    [data-theme="dark"] {
      --bg: #2d3436;
      --text: #f5f5f5;
      --card: #3b3b3b;
    }

    body {
      font-family: 'Poppins', Arial, sans-serif;
      margin: 0;
      background: var(--bg);
      color: var(--text);
      transition: 0.3s;
      display: flex;
      min-height: 100vh;
      overflow-x: hidden;
    }

    header {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 20px;
      text-align: center;
      width: 100%;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 10;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-sizing: border-box;
    }
    header h1 {
      margin: 0;
      font-size: 1.8rem;
    }
    header .socials a {
      color: white;
      font-size: 1.4rem;
      margin-left: 15px;
      transition: 0.3s;
    }
    header .socials a:hover {
      color: #ffeaa7;
    }

    /* Filter button on header */
    #toggleFiltersBtn {
      background: var(--card);
      border: none;
      padding: 8px 14px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.3s;
    }
    #toggleFiltersBtn:hover {
      background: var(--secondary);
      color: white;
    }

    /* Sidebar for filters */
    #filtersSidebar {
      position: fixed;
      top: 60px;
      left: -300px;
      width: 280px;
      height: calc(100% - 60px);
      background: var(--card);
      box-shadow: 2px 0 8px rgba(0,0,0,0.1);
      padding: 20px;
      box-sizing: border-box;
      overflow-y: auto;
      transition: left 0.3s ease;
      z-index: 9;
    }
    #filtersSidebar.open {
      left: 0;
    }
    #filtersSidebar h3 {
      margin-top: 0;
      border-bottom: 2px solid var(--primary);
      padding-bottom: 6px;
      margin-bottom: 12px;
      font-weight: 700;
      color: var(--primary);
    }

    .filter-group {
      margin-bottom: 25px;
    }

    /* Checkbox styles */
    .filter-group label {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      margin-bottom: 8px;
      user-select: none;
      font-weight: 600;
      color: var(--text);
    }
    .filter-group input[type="checkbox"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    /* Color checkbox with circle */
    .color-checkbox {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      border: 2px solid #ccc;
      flex-shrink: 0;
    }
    /* Color boxes for each color */
    .color-white { background: white; border-color: #aaa; }
    .color-black { background: black; }
    .color-red { background: red; }
    .color-gray { background: gray; }
    .color-beige { background: beige; border-color: #aaa; }
    .color-yellow { background: yellow; }

    /* Reset button */
    #resetFiltersBtn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 10px 14px;
      font-size: 1rem;
      font-weight: 700;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      transition: background 0.3s;
    }
    #resetFiltersBtn:hover {
      background: var(--secondary);
    }

    /* Content area with padding for header and sidebar */
    main {
      flex: 1;
      padding: 80px 20px 20px 20px;
      max-width: 1200px;
      margin: 0 auto;
      box-sizing: border-box;
      width: 100%;
      overflow-x: hidden;
    }

    /* Product grid */
    .product-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
    }
    .product {
      background: var(--card);
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      display: flex;
      flex-direction: column;
      position: relative; /* tag üçün */
    }
    .product:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
    }
    .product img {
      width: 100%;
      height: auto;
      max-height: 250px;
      object-fit: contain;
      background: #f8f8f8;
      border-bottom: 1px solid #ddd;
    }
    .product-content {
      padding: 15px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    .product h3 {
      font-size: 1.2rem;
      margin: 5px 0;
    }
    .product p {
      color: #636e72;
      margin: 5px 0;
      font-weight: bold;
    }
    .color-options {
      margin: 10px 0;
    }
    .color-dot {
      display: inline-block;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      border: 1px solid #ccc;
      margin-right: 6px;
    }
    .whatsapp-btn {
      background: var(--whatsapp);
      color: white;
      text-align: center;
      padding: 10px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      margin-top: auto;
      transition: background 0.3s;
    }
    .whatsapp-btn:hover {
      background: #20b358;
    }

    /* Tag-lar üçün */
    .tag {
      position: absolute;
      top: 10px;
      left: 10px;
      padding: 5px 12px;
      border-radius: 20px;
      color: white;
      font-size: 0.8rem;
      font-weight: 700;
      user-select: none;
      z-index: 2;
    }
    .tag-new {
      background-color: #27ae60; /* Yaşıl */
      left: 10px;
      top: 10px;
    }
    .tag-top {
      background-color: #e67e22; /* Narıncı */
      left: 10px;
      top: 40px;
    }

    /* Scroll to top düyməsi */
    #scrollTopBtn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 100;
      display: none;
      background: var(--primary);
      color: white;
      border: none;
      padding: 12px 16px;
      border-radius: 50%;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      transition: background 0.3s;
    }
    #scrollTopBtn:hover {
      background: var(--secondary);
    }

    /* Responsive */
    /* @media (max-width: 768px) {
      #filtersSidebar {
        width: 100%;
        height: 60vh;
        top: 60px;
        left: -100%;
      }
      #filtersSidebar.open {
        left: 0;
      }
      main {
        padding-left: 20px;
        padding-right: 20px;
      }
    } */


    @media (max-width: 768px) {
  header {
    flex-direction: column;
    text-align: center;
  }

  header h1 {
    margin-bottom: 10px;
  }

  .socials {
    margin-top: 10px;
  }

  #filtersSidebar {
    width: 100%;
    height: 60vh;
    top: 60px;
    left: -100%;
  }

  #filtersSidebar.open {
    left: 0;
  }

  main {
    padding-left: 15px;
    padding-right: 15px;
  }
 
  #searchInput {
  display: block;
  margin: 60px auto 10px auto; /* yuxarı 60px, aşağı 10px, yanlar auto */
  max-width: 90%; /* Ekranın 90%-i qədər en */
  width: 100%;
  margin-right: 0; /* Artıq lazım deyil */
}

  #sortSelect {
    margin-bottom: 20px;
  }

  .product-list {
    grid-template-columns: 1fr;
  }
}

  </style>
</head>
<body data-theme="light">
  <header>
    <h1>Pərdə Mağazası</h1>
    <div>
      <button id="toggleFiltersBtn">Filterləri aç</button>
      <span class="socials">
        <a href="https://www.instagram.com/sadiqzdeh" target="_blank"><i class="fab fa-instagram"></i></a>
        <a href="https://www.tiktok.com/@senin_sayfan" target="_blank"><i class="fab fa-tiktok"></i></a>
      </span>
    </div>
  </header>

  <aside id="filtersSidebar">
    <div class="filter-group">
      <h3>Rənglər</h3>
      <label><input type="checkbox" value="white" class="color-checkbox" /><span class="color-checkbox color-white"></span> Ağ</label>
      <label><input type="checkbox" value="black" class="color-checkbox" /><span class="color-checkbox color-black"></span> Qara</label>
      <label><input type="checkbox" value="red" class="color-checkbox" /><span class="color-checkbox color-red"></span> Qırmızı</label>
      <label><input type="checkbox" value="gray" class="color-checkbox" /><span class="color-checkbox color-gray"></span> Boz</label>
      <label><input type="checkbox" value="beige" class="color-checkbox" /><span class="color-checkbox color-beige"></span> Bej</label>
      <label><input type="checkbox" value="yellow" class="color-checkbox" /><span class="color-checkbox color-yellow"></span> Sarı</label>
    </div>
    <div class="filter-group">
      <h3>Kateqoriyalar</h3>
      <label><input type="checkbox" value="Tül" class="category-checkbox" /> Tül</label>
      <label><input type="checkbox" value="Stor" class="category-checkbox" /> Stor</label>
      <label><input type="checkbox" value="Fon" class="category-checkbox" /> Fon</label>
      <label><input type="checkbox" value="Qaraçörək" class="category-checkbox" /> Qaraçörək</label>
    </div>
    <button id="resetFiltersBtn">Filterləri sıfırla</button>
  </aside>

  <main>
    <input type="text" id="searchInput" placeholder="Pərdə adını daxil et..." autocomplete="off" style="width: 100%; max-width: 400px; padding: 10px; margin-bottom: 20px; border-radius: 20px; border: 1px solid #ccc; font-size: 1rem;"/>     <select id="sortSelect" style="padding: 10px; border-radius: 10px; font-size: 1rem; margin-bottom: 20px; max-width: 400px; width: 100%;">
      <option value="">Sırala</option>
      <option value="asc">Ucuzdan bahaya</option>
      <option value="desc">Bahadan ucuza</option>
    </select>

    <div class="product-list" id="productList"></div>
  </main>

  <!-- Scroll to top button -->
  <button id="scrollTopBtn" title="Yuxarı qayıt">⬆</button>

  <script>
    const products = [
      { name: "Türk Dekor-Kətan", image: "şəkil1.jpg", price: 25, colors: ["white", "black", "red"], category: "Tül", whatsapp: "https://wa.me/994514079686?text=Salam,+Türk+pərdə+dekor-kətan-25azn+tül-kristal-14azn+olan+məhsul.", tags: ["new"] },
      { name: "Türk Dekor-Hürrəm", image: "şəkil2.jpg", price: 20, colors: ["white", "beige", "gray"], category: "Stor", whatsapp: "https://wa.me/994501112233?text=Salam,+Stor+Pərdə+satışı+barədə+məlumat", tags: ["top"] },
      { name: "Qaraçörək Pərdə", image: "şəkil4.jpg", price: 40, colors: ["black"], category: "Qaraçörək", whatsapp: "https://wa.me/994501112233?text=Salam,+Qaraçörək+Pərdə+istəyirəm", tags: ["new", "top"] },
      { name: "Qaraçörək Pərdə", image: "şəkil4.jpg", price: 40, colors: ["black"], category: "Qaraçörək", whatsapp: "https://wa.me/994501112233?text=Salam,+Qaraçörək+Pərdə+istəyirəm", tags: ["new", "top"] },
      { name: "Tül Pərdə", image: "şəkil1.jpg", price: 25, colors: ["white", "black", "red"], category: "Tül", whatsapp: "https://wa.me/994514079669?text=Salam,+Tül+Pərdə+ilə+maraqlanıram", tags: ["new"] },
      { name: "Tül Pərdə", image: "şəkil1.jpg", price: 25, colors: ["white", "black", "red"], category: "Tül", whatsapp: "https://wa.me/994514079669?text=Salam,+Tül+Pərdə+ilə+maraqlanıram", tags: ["new"] },
      { name: "Stor Pərdə", image: "şəkil2.jpg", price: 30, colors: ["white", "beige", "gray"], category: "Stor", whatsapp: "https://wa.me/994501112233?text=Salam,+Stor+Pərdə+satışı+barədə+məlumat", tags: ["top"] },
      { name: "Qaraçörək Pərdə", image: "şəkil4.jpg", price: 40, colors: ["black"], category: "Qaraçörək", whatsapp: "https://wa.me/994501112233?text=Salam,+Qaraçörək+Pərdə+istəyirəm", tags: ["new", "top"] },
      { name: "Qaraçörək Pərdə", image: "şəkil4.jpg", price: 40, colors: ["black"], category: "Qaraçörək", whatsapp: "https://wa.me/994501112233?text=Salam,+Qaraçörək+Pərdə+istəyirəm", tags: ["new", "top"] },
      { name: "Tül Pərdə", image: "şəkil1.jpg", price: 25, colors: ["white", "black", "red"], category: "Tül", whatsapp: "https://wa.me/994514079669?text=Salam,+Tül+Pərdə+ilə+maraqlanıram", tags: ["new"] },
      { name: "Tül Pərdə", image: "şəkil1.jpg", price: 25, colors: ["white", "black", "red"], category: "Tül", whatsapp: "https://wa.me/994514079669?text=Salam,+Tül+Pərdə+ilə+maraqlanıram", tags: ["new"] },
      { name: "Fon Pərdə Qırmızı", image: "şəkil3.jpg", price: 35, colors: ["red", "yellow", "black"], category: "Fon", whatsapp: "https://wa.me/994501112233?text=Salam,+Qırmızı+Fon+Pərdə+istəyirəm", tags: [] },
      { name: "Qaraçörək Pərdə", image: "şəkil4.jpg", price: 40, colors: ["black"], category: "Qaraçörək", whatsapp: "https://wa.me/994501112233?text=Salam,+Qaraçörək+Pərdə+istəyirəm", tags: ["new", "top"] }
    ];

    const productList = document.getElementById("productList");
    const searchInput = document.getElementById("searchInput");
    const sortSelect = document.getElementById("sortSelect");
    const filtersSidebar = document.getElementById("filtersSidebar");
    const toggleFiltersBtn = document.getElementById("toggleFiltersBtn");
    const resetFiltersBtn = document.getElementById("resetFiltersBtn");
    const scrollTopBtn = document.getElementById("scrollTopBtn");

    function displayProducts(list) {
      productList.innerHTML = "";
      if(list.length === 0) {
        productList.innerHTML = "<p style='text-align:center; font-size:1.2rem;'>Heç bir məhsul tapılmadı.</p>";
        return;
      }
      list.forEach(p => {
        const colorsHTML = (p.colors || []).map(c => `<span class="color-dot" style="background-color:${c}" title="${c}"></span>`).join("");
        
        const tagsHTML = (p.tags || []).map(tag => {
          if(tag === "new") return `<div class="tag tag-new">Yeni</div>`;
          if(tag === "top") return `<div class="tag tag-top">TOP</div>`;
          return "";
        }).join("");

        productList.innerHTML += `
          <div class="product">
            ${tagsHTML}
            <img src="${p.image}" alt="${p.name}" />
            <div class="product-content">
              <h3>${p.name}</h3>
              <p>Qiymət: ${p.price} AZN</p>
              <div class="color-options">${colorsHTML}</div>
              <a class="whatsapp-btn" href="${p.whatsapp}" target="_blank">WhatsApp ilə sifariş et</a>
            </div>
          </div>
        `;
      });
    }

    function filterAndSort() {
      let filtered = products.filter(p =>
        p.name.toLowerCase().includes(searchInput.value.toLowerCase())
      );

      // Filtrlərdən seçilmiş rəngləri götür
      const selectedColors = Array.from(document.querySelectorAll('.color-checkbox:checked')).map(i => i.value);
      if (selectedColors.length > 0) {
        filtered = filtered.filter(p => selectedColors.some(c => p.colors.includes(c)));
      }

      // Filtrlərdən seçilmiş kateqoriyaları götür
      const selectedCategories = Array.from(document.querySelectorAll('.category-checkbox:checked')).map(i => i.value);
      if (selectedCategories.length > 0) {
        filtered = filtered.filter(p => selectedCategories.includes(p.category));
      }

      // Qiymətə görə sırala
      if (sortSelect.value === "asc") filtered.sort((a,b) => a.price - b.price);
      if (sortSelect.value === "desc") filtered.sort((a,b) => b.price - a.price);

      displayProducts(filtered);
    }

    // Filtrləri aç/bağla düyməsi
    toggleFiltersBtn.addEventListener("click", () => {
      filtersSidebar.classList.toggle("open");
      if(filtersSidebar.classList.contains("open")){
        toggleFiltersBtn.textContent = "Filterləri bağla";
      } else {
        toggleFiltersBtn.textContent = "Filterləri aç";
      }
    });

    // Hər filter checkbox-u dəyişdikdə
    document.querySelectorAll('.color-checkbox, .category-checkbox').forEach(el => {
      el.addEventListener('change', filterAndSort);
    });

    // Axtarış və sortda dəyişiklik olduqda
    searchInput.addEventListener('input', filterAndSort);
    sortSelect.addEventListener('change', filterAndSort);

    // Filtrləri sıfırla düyməsi
    resetFiltersBtn.addEventListener('click', () => {
      // Checkboxları təmizlə
      document.querySelectorAll('.color-checkbox, .category-checkbox').forEach(cb => cb.checked = false);
      // Axtarışı təmizlə
      searchInput.value = "";
      // Sort-u təmizlə
      sortSelect.value = "";
      // Yenidən göstər
      filterAndSort();
    });

    // Scroll to top düyməsi görünmə / klik
    window.addEventListener("scroll", () => {
      if(window.scrollY > 300){
        scrollTopBtn.style.display = "block";
      } else {
        scrollTopBtn.style.display = "none";
      }
    });
    scrollTopBtn.addEventListener("click", () => {
      window.scrollTo({top: 0, behavior: "smooth"});
    });

    // İlkin məhsullar
    displayProducts(products);
  </script>
</body>
</html>
